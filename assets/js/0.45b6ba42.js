(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"使用手册"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用手册","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用手册")]),s("p",[s("code",[t._v("MogoH5+")]),t._v(" 是一个 vue 多页面"),s("strong",[t._v("脚手架工具")]),t._v(",结合 H5+可以快速开发安卓与苹果 APP.")]),s("p",[t._v("即使不适用 Hbuilder 打包成 APP,本脚手架同样可以作为多页面网页生成的参考项目.")]),s("h2",{attrs:{id:"特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特性","aria-hidden":"true"}},[t._v("#")]),t._v(" 特性")]),s("ul",[s("li",[s("code",[t._v("支持 Npm 生态")])]),s("li",[s("code",[t._v("支持 vue 语法,以及 vue 生态,比如 vux,mint,vant")])]),s("li",[s("code",[t._v("支持 ES6/ES7 语法")])]),s("li",[s("code",[t._v("使用 VConsole 调试")])]),s("li",[s("code",[t._v("VSCode 友好")])]),s("li",[s("code",[t._v("局域网便捷调试")])]),s("li",[s("code",[t._v("兼容部分 mui 语法")])])]),s("p",[t._v("这些特性其实不是什么新鲜特性,只是单独在 Hbuilder 无法使用.")]),s("h2",{attrs:{id:"快速上手"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#快速上手","aria-hidden":"true"}},[t._v("#")]),t._v(" 快速上手")]),s("p",[t._v("直接下载项目然后根据需求定制打包,最后通过 Hbuilder 云打包即可生成 APP.")]),s("blockquote",[s("p",[t._v("本文自带一个案例是使用 VantUI 开发的几个界面,如果你喜欢其他 UI 同样可以替换成其他的 UI.")])]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("// 1.安装模块\n"),s("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" i  // or yarn\n// 2.调试\n"),s("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" start   // 将manifest.json 的"),s("span",{attrs:{class:"token variable"}},[s("span",{attrs:{class:"token variable"}},[t._v("`")]),t._v("页面入口"),s("span",{attrs:{class:"token variable"}},[t._v("`")])]),t._v(" 修改成 http://your_ip:8082/\n// 3.打包\n"),s("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n")])])]),s("h2",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用","aria-hidden":"true"}},[t._v("#")]),t._v(" 使用")]),s("p",[t._v("主要怎么使用 MogoH5+做正式的开发,在开发过程中一定要遵守"),s("strong",[t._v("目录规则")]),t._v(",否则会有意想不到的错误.")]),s("h3",{attrs:{id:"目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录结构","aria-hidden":"true"}},[t._v("#")]),t._v(" 目录结构")]),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(".\n├── docs  // 文档\n├── index.html // 入口模板\n├── jsconfig.json //js配置\n├── manifest.json //hbuilder 入口文件\n├── src  \n│   ├── components  //组件文件夹\n│   │   └── List.vue  //组件\n│   ├── index.js  //主页入口文件\n│   ├── index.vue // 主页vue文件\n│   ├── page  // 页面\n│   └── utils // 工具\n├── unpackage // hbuilder 构建目录\n│   └── res\n└── webpack.config.js  //webpack配置目录\n")])])]),s("h3",{attrs:{id:"新建页面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建页面","aria-hidden":"true"}},[t._v("#")]),t._v(" 新建页面")]),s("p",[t._v("假如我们要新建一个名称为"),s("code",[t._v("list")]),t._v("的页面作为商品列表,我们就要在"),s("code",[t._v("./src/page/goods")]),t._v("下新建"),s("code",[t._v("list.js")]),t._v("和"),s("code",[t._v("list.vue")]),t._v("两个文件."),s("code",[t._v("list.js")]),t._v("作为多页面的入口,"),s("code",[t._v("list.vue")]),t._v(",脚手架自带了几个页面可供参考.")]),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("路由")]),s("p",[t._v("遵循相对路径原则,如果在"),s("code",[t._v("src")]),t._v("访问这个页面则就是"),s("code",[t._v("./goods/list.html")]),t._v("\n!!! 后缀一定是"),s("code",[t._v(".html")])])]),s("h3",{attrs:{id:"新建组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建组件","aria-hidden":"true"}},[t._v("#")]),t._v(" 新建组件")]),s("p",[t._v("组件放入"),s("code",[t._v("./src/components")]),t._v("目录下,如果组件较多,可自行建立目录.比如 demo 中使用的 Logo 组件可以作为参考.")]),s("h3",{attrs:{id:"新建工具库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建工具库","aria-hidden":"true"}},[t._v("#")]),t._v(" 新建工具库")]),s("p",[t._v("工具库"),s("code",[t._v("./src/utils")]),t._v("主要放一些公用函数,比如请求,打开 webview,支付,分享等执行函数.\ndemo 中封装了部分来自 mui 的函数比如"),s("code",[t._v("自定义事件")]),t._v(","),s("code",[t._v("webview")]),t._v(".这些函数可以作为参考.")]),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),s("p",[s("code",[t._v("common.js")]),t._v(" 是每个页面都需要加载的一个 js,里面加载了"),s("code",[t._v("fastclick")]),t._v("和"),s("code",[t._v("vconsole")]),t._v(".如果全局需要加统计,全局执行的函数,可以放在这个文件里面.")]),s("p",[s("code",[t._v("./src/utils")]),t._v(" 做了 "),s("code",[t._v("alias")]),t._v("别名,可以 直接这样加载 "),s("code",[t._v('import common from "Utils/common"')]),t._v(".")])]),s("h3",{attrs:{id:"发送请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发送请求","aria-hidden":"true"}},[t._v("#")]),t._v(" 发送请求")]),s("h4",{attrs:{id:"请求库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#请求库","aria-hidden":"true"}},[t._v("#")]),t._v(" 请求库")]),s("p",[t._v("demo 的请求使用的是 "),s("code",[t._v("axios")]),t._v(",同样你喜欢什么库都可以自己去封装.")]),s("p",[t._v("常见的请求库有"),s("code",[t._v("fetch")]),t._v(","),s("code",[t._v("request")]),t._v(","),s("code",[t._v("SuperAgent")]),t._v(","),s("code",[t._v("jquery-ajax")]),t._v(".")]),s("h4",{attrs:{id:"跨域"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#跨域","aria-hidden":"true"}},[t._v("#")]),t._v(" 跨域")]),s("p",[t._v("由于"),s("code",[t._v("npm start")]),t._v("后,调试网页是挂在局域网上,并且作为 Hbuilder 的"),s("code",[t._v("页面入口")]),t._v(",因此,在请求时会出现"),s("code",[t._v("跨域")]),t._v(".")]),s("p",[t._v("在"),s("code",[t._v("./build.js")]),t._v("中使用本地代理,将下面的"),s("code",[t._v("https://api.douban.com")]),t._v("修改成自己使用的业务域名即可.")]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("proxy"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{attrs:{class:"token string"}},[t._v('"/api"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token string"}},[t._v('"DOUBANAPI"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{attrs:{class:"token comment"}},[t._v("// 自己取名")]),t._v("\n      target"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"https://api.douban.com"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      pathRewrite"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"^/api"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('""')]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      changeOrigin"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      secure"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),s("span",{attrs:{class:"token string"}},[t._v('"/baidu_api"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{attrs:{class:"token string"}},[t._v('"BAIDUAPI"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{attrs:{class:"token comment"}},[t._v("// 自己取名")]),t._v("\n      target"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"https://api.baidu.com"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      pathRewrite"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"^/api"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('""')]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      changeOrigin"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      secure"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("p",[t._v("如果有更多业务域名可以继续在"),s("code",[t._v("proxy")]),t._v("添加.")]),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("注意")]),s("p",[t._v("只有开发的时候才会有跨域问题,打包后的文件网址会被替换成被代理的网址,因此发送请求一定要加上名称"),s("code",[t._v("DOUBANAPI")])]),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("request")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  url"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token constant"}},[t._v("DOUBANAPI")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"/bookList"')]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),s("h3",{attrs:{id:"调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调试","aria-hidden":"true"}},[t._v("#")]),t._v(" 调试")]),s("p",[t._v("在 Hbuilder 中调试会有诸多问题,比如:")]),s("ul",[s("li",[t._v("不能直接打印"),s("code",[t._v("数组")]),t._v(","),s("code",[t._v("对象")]),t._v(",需要转成字符串.")]),s("li",[t._v("即使使用"),s("code",[t._v("webview调试")]),t._v(",仍然不能打印出数组,在 mac 上使用也非常不方便.")])]),s("p",[t._v("使用"),s("code",[t._v("VConsole")]),t._v(",调试的问题基本就脱离 Hbuilder 了,使用"),s("code",[t._v("VConsole")]),t._v("主要优点如下")]),s("ul",[s("li",[t._v("可以打印数组,对象")]),s("li",[t._v("可以查看请求,cookie,Localstorage")]),s("li",[t._v("在"),s("code",[t._v("System")]),t._v("栏目中可以看到页面加载速度")]),s("li",[t._v("可以查看元素")])]),s("p",[t._v("基本上就是一个简化的"),s("code",[t._v("开发者工具栏")]),t._v(",对于调试来说非常简便了.")]),s("h3",{attrs:{id:"打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包","aria-hidden":"true"}},[t._v("#")]),t._v(" 打包")]),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" run build\n")])])]),s("p",[t._v("运行命令后会有一个"),s("code",[t._v("dist")]),t._v("目录,里面的经过压缩的静态文件.")]),s("h3",{attrs:{id:"hbuilder-发行打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hbuilder-发行打包","aria-hidden":"true"}},[t._v("#")]),t._v(" Hbuilder 发行打包")]),s("p",[t._v("在使用 Hbuilder 制作安装包前,请将"),s("code",[t._v("入口文件")]),t._v("修改成"),s("code",[t._v("dist/index.html")]),t._v(".\n然后可以安心的打包了.")]),s("h2",{attrs:{id:"兼容-mui-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#兼容-mui-js","aria-hidden":"true"}},[t._v("#")]),t._v(" 兼容 mui.js")]),s("p",[t._v("对于兼容 mui 部分函数的问题,已经在移植部分函数到"),s("code",[t._v("Utils")]),t._v("中,在未来的更新中会慢慢移植.")]),s("h2",{attrs:{id:"常见问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见问题","aria-hidden":"true"}},[t._v("#")]),t._v(" 常见问题")])])}],!1,null,null,null);a.default=e.exports}}]);